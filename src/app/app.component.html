<div
  class="cube"
  [style]="{
    '--rotate-x': rotation.axisX,
    '--rotate-y': rotation.axisY,
    '--rotate-z': rotation.axisZ,
    '--rotate-a': rotation.angle
  }"
  (mousedown)="onMouseDown($event)"
  (mouseleave)="onMouseLeave($event)"
  (mousemove)="onMouseMove($event)"
  (mouseup)="onMouseUp($event)"
>
  <div
    class="cubicle {{ cubicle.faces.join(' ') }}"
    *ngFor="let cubicle of cubicles"
    (animationend)="onAnimationEnd(cubicle)"
  >
    <div
      class="cubie"
      [style]="{
        '--x': cubicle.coords.x,
        '--y': cubicle.coords.y,
        '--z': cubicle.coords.z
      }"
    >
      <div
        *ngFor="let _ of [].constructor(6); index as j"
        class="cubie-face cubie-face--{{ faces[cubicle.index + j] }}"
      ></div>
    </div>
  </div>
</div>
