$cubeSize: 210px;
$cubieSize: calc(#{$cubeSize} / 3);

@keyframes rotateX {
    0% {
        transform: rotateX(0deg);
    }
    100% {
        transform: rotateX(360deg);
    }
}

@keyframes rotateY {
    0% {
        transform: rotateY(0deg);
    }
    100% {
        transform: rotateY(360deg);
    }
}

@keyframes rotateZ {
    0% {
        transform: rotateZ(0deg);
    }
    100% {
        transform: rotateZ(360deg);
    }
}

.cube {
    border: 1px solid black;
    height: $cubeSize;
    margin: $cubeSize;
    transform-style: preserve-3d;
    transform: rotate3d(var(--rotate-x), var(--rotate-y), var(--rotate-z), calc(var(--rotate-a) * 1rad));
    width: $cubeSize;

    --color-back: #0246ad;
    --color-down: #ffd500;
    --color-front: #009b48;
    --color-left: #ff5800;
    --color-right: #b71234;
    --color-up: white;
}

.cubicle {
    height: 100%;
    pointer-events: none;
    position: absolute;
    transform-style: preserve-3d;
    width: 100%;

    :host([data-move]) & {
        animation-duration: 7s;
        animation-iteration-count: infinite;
        animation-timing-function: linear;
    }

    :host([data-move="back"]) &.back {
        animation-direction: reverse;
        animation-name: rotateZ;
    }

    :host([data-move="down"]) &.down {
        animation-name: rotateY;
    }

    :host([data-move="front"]) &.front {
        animation-name: rotateZ;
    }

    :host([data-move="left"]) &.left {
        animation-direction: reverse;
        animation-name: rotateX;
    }

    :host([data-move="right"]) &.right {
        animation-name: rotateX;
    }

    :host([data-move="up"]) &.up {
        animation-direction: reverse;
        animation-name: rotateY;
    }
}

.cubie {
    height: $cubieSize;
    transform-style: preserve-3d;
    transform: translate3d(calc(var(--x) * $cubieSize), calc(var(--y) * $cubieSize), calc(var(--z) * $cubieSize));
    width: $cubieSize;
}

.cubie-face {
    align-items: center;
    border-radius: 10px;
    display: flex;
    font-size: calc(#{$cubieSize} / 2);
    height: 100%;
    justify-content: center;
    position: absolute;
    width: 100%;

    &--back {
        background-color: var(--color-back);
        transform: rotateY(180deg) translateZ(calc(#{$cubieSize} / 2));
    }

    &--down {
        background-color: var(--color-down);
        transform: rotateX(270deg) translateZ(calc(#{$cubieSize} / 2));
    }

    &--front {
        background-color: var(--color-front);
        transform: translateZ(calc(#{$cubieSize} / 2));
    }

    &--left {
        background-color: var(--color-left);
        transform: rotateY(270deg) translateZ(calc(#{$cubieSize} / 2));
    }

    &--right {
        background-color: var(--color-right);
        transform: rotateY(90deg) translateZ(calc(#{$cubieSize} / 2));
    }

    &--up {
        background-color: var(--color-up);
        transform: rotateX(90deg) translateZ(calc(#{$cubieSize} / 2));
    }
}
